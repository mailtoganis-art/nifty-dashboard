<!DOCTYPE html>
<html>
<head>
  <title>Nifty Quant Engine</title>
  <style>
    body { background:#111; color:#fff; font-family:Arial; text-align:center; }
    .box { margin-top:60px; }
    .signal { font-size:40px; margin:20px; }
    .info { font-size:20px; margin:10px; }
  </style>
</head>
<body>

<div class="box">
  <h1>NIFTY F&O QUANT ENGINE</h1>
  <div class="signal" id="signal">Loading...</div>
  <div class="info" id="confidence"></div>
  <div class="info" id="regime"></div>
  <div class="info" id="confirmation"></div>
</div>

<script>
async function loadData() {
  const res = await fetch("/analysis");
  const data = await res.json();

  document.getElementById("signal").innerText = data.signal;
  document.getElementById("confidence").innerText =
    "Confidence: " + data.confidence + "%";
  document.getElementById("regime").innerText =
    "Regime: " + data.regime;
  document.getElementById("confirmation").innerText =
    data.confirmation;

  if (data.confidence >= 75)
    document.getElementById("confirmation").style.color = "lime";
}

loadData();
setInterval(loadData, 60000);
</script>

</body>
</html>